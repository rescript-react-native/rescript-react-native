// Generated by BUCKLESCRIPT VERSION 4.0.18, PLEASE EDIT WITH CARE
'use strict';

var Caml_obj = require("bs-platform/lib/js/caml_obj.js");
var Pervasives = require("bs-platform/lib/js/pervasives.js");
var Caml_option = require("bs-platform/lib/js/caml_option.js");
var Js_mapperRt = require("bs-platform/lib/js/js_mapperRt.js");
var ReactNative = require("react-native");
var Js_null_undefined = require("bs-platform/lib/js/js_null_undefined.js");

var jsMapperConstantArray = /* array */[
  /* tuple */[
    -933033522,
    "clock"
  ],
  /* tuple */[
    465819841,
    "default"
  ],
  /* tuple */[
    876147673,
    "spinner"
  ]
];

function actionHandler(resp) {
  if (resp.action === ReactNative.TimePickerAndroid.timeSetAction) {
    return /* Set */[/* record */[
              /* hour */resp.hour,
              /* minute */resp.minute
            ]];
  } else if (resp.action === ReactNative.TimePickerAndroid.dismissedAction) {
    return /* Dismissed */0;
  } else {
    return Pervasives.failwith("Unknown action received from TimePickerAndroid. Please report this in the bs-react-native repository");
  }
}

function rangeHandler(valueName, valueFrom, valueTo, value) {
  if (value !== undefined) {
    var v = Caml_option.valFromOption(value);
    if (Caml_obj.caml_lessequal(v, valueTo) && Caml_obj.caml_greaterequal(v, valueFrom)) {
      return Caml_option.some(v);
    } else {
      return Pervasives.failwith("" + (String(valueName) + (" must be a value between " + (String(valueFrom) + (" and " + (String(valueTo) + ""))))));
    }
  }
  
}

function open_(hour, minute, is24Hour, $staropt$star, param) {
  var mode = $staropt$star !== undefined ? $staropt$star : /* default */465819841;
  return ReactNative.TimePickerAndroid.open({
                hour: Js_null_undefined.fromOption(rangeHandler("Hour", 0, 23, hour)),
                minute: Js_null_undefined.fromOption(rangeHandler("Minute", 0, 59, minute)),
                is24Hour: Js_null_undefined.fromOption(is24Hour),
                mode: Js_mapperRt.binarySearch(3, mode, jsMapperConstantArray)
              }).then((function (resp) {
                return Promise.resolve(actionHandler(resp));
              }));
}

exports.open_ = open_;
/* react-native Not a pure module */
